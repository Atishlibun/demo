<!DOCTYPE html>
<html lang="en">

<head>
    <title>ES-6</title>
</head>

<body>
    <table border="1" style="border-collapse:collapse" cellpadding="10">
        <thead>
            <tr>
                <th>id</th>
                <th>name</th>
                <th>username</th>
                <th>email</th>
                <th>address</th>
            </tr>
        </thead>
        <tbody id="display">

        </tbody>
    </table>
    <script>
        //Default parameter
        function add(a, b = 10) {
            // b = b || 10
            console.log(a + b);
        }
        // add(20)

        //Destructuring

        // let arr = ["apple", "grapes", "banana"]
        // let obj = { name: "Rocky", address: "KGF", age: 25 }

        // let apple = arr[0]
        // let grapes = arr[1]

        // let [a, b] = arr
        // console.log(a, b);

        // let name = obj.name
        // let address = obj.address

        // let { name, age } = obj
        // console.log(name);
        // console.log(age);

        //rest operator

        // function sum(a, ...num) {
        //     console.log(a);
        //     console.log(num)
        //     let res = num.reduce((acc, e) => acc + e)
        //     console.log(res);
        // }
        // sum(1, 2, 3, 4, 5, 6, 7, 8, 9)

        // function mul() {
        //     console.log(arguments);
        //     for (let i = 0; i < arguments.length; i++) {
        //         console.log(arguments[i]);
        //     }
        // }
        // mul(1, 2, 3, 4, 5)

        //spread operator

        // let x = [10, 20, 30, 40]
        // let y = [11, 21, 31, 41]

        // console.log(...x, ...y);
        // let z = [...x, ...y]
        // console.log(z);

        // //spreading an array into object
        // let a = { ...x }
        // console.log(a);

        // let b = [...x, 10, 20]
        // console.log(b);
        // console.log(x);

        // let c = [...y]
        // console.log(c == y);

        //spreding object
        // let student = {
        //     name: "Salman",
        //     age: 50,
        //     address: "mumbai",
        //     isTiger: true
        // }
        // let student2 = {
        //     name: "SRK",
        //     age: 52,
        //     address: "Delhi",
        //     isMarried: true
        // }
        // console.log({ ...student, ...student2 });
        // // console.log([...student])
        // let x = { ...student, age: 70 }
        // console.log(x);
        // console.log(student);


        // let num1 = [10, 20, 30]
        // let num2 = [40, 50, 60]

        // let [a, b, ...c] = [...num1, ...num2]

        // console.log(a, b);
        // console.log(c);

        // let std1 = { name: "A", age: 20, address: "BBSR" }
        // let std2 = {
        //     name: "B", age: 24, address: "blr",
        //     haveKids: true
        // }

        // let { name, ...std3 } = { ...std1, ...std2 }
        // console.log(name);
        // console.log(std3);

        // let msg = () => {
        //     console.log("msg function");
        // }
        // console.log("hello starts");
        // let timeout = setTimeout(() => {
        //     console.log("HELLO i'm the setTimeout func");
        // }, 3000)

        // console.log("hello ends");
        // msg();

        // clearTimeout(timeout)


        // let count = 0

        // let msg = () => {
        //     count++
        //     console.log("msg function" + count);
        // }
        // let interval = setInterval(msg, 1000)
        // setTimeout(() => {
        //     clearInterval(interval)
        // }, 8000)


        // let x = 10;
        // console.log(x);

        // function msg(callback) {
        //     setTimeout(() => {
        //         console.log("fun1");
        //         callback()
        //     }, 3000)
        // }
        // function msg2(cb) {
        //     setTimeout(() => {
        //         console.log("fun2");
        //         cb();
        //     }, 2000)
        // }
        // function msg3() {
        //     setTimeout(() => {
        //         console.log("fun3");
        //     }, 500)
        // }
        // msg(function () {
        //     msg2(() => {
        //         msg3()
        //     })
        // })

        // console.log("program ends");



        // let p = new Promise((resolved, rejected) => {
        //     let temp = 1;
        //     // console.log("hello from promise");
        //     if (temp > 10) {
        //         resolved("PROMISE EXECUTES SUCCESSFULLY")
        //     } else {
        //         rejected("PROMISE FAILED")
        //     }

        // })

        // // console.log(p);
        // p.then((data) => {
        //     console.log(data);
        // }).catch(err => {
        //     console.log(err);
        // })
        let userData = []
        let url = "https://my-json-server.typicode.com/horizon-code-academy/fake-movies-api/movies"
        let res = fetch(url)
        // console.log(res);
        res.then(data => {
            return data.json()
        }).then(d => {
            userData = d
            let display = document.getElementById("display")
            let str = ""
            userData.map(e => {
                str += `<tr>
                <td>${e.id}</td>
                <td>${e.name}</td>
                <td>${e.username}</td>
                <td>${e.email}</td>
                <td>${JSON.stringify(e.address)}</td>
                </tr>`
            })
            display.innerHTML = str
        })
            .catch(err => {
                console.log("promise failed");
            })


    </script>
</body>

</html>